<div class="header bg-info bg-opacity-25 text-dark p-4 mb-4 rounded shadow-sm border border-info border-opacity-25">
  <div class="row align-items-center">
    <div class="col-md-8">
      <h1 class="mb-2 fw-bold">{{.Title}}</h1>
      <p class="lead mb-2">{{.Metadata}}</p>
      <p class="mb-0">
        <span class="badge bg-light text-dark border">File: {{.FileName}}</span>
        <span class="badge bg-light text-dark border">Hash: 
          <a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#hashModal">
            {{.FileHashShort}} <i class="bi bi-info-circle-fill small"></i>
          </a>
        </span>
      </p>
    </div>
    <div class="col-md-4 text-md-end text-center mt-3 mt-md-0">
      <span class="badge bg-info bg-opacity-75 p-2">Top Report</span>
    </div>
  </div>
</div>

<!-- Hash Modal -->
<div class="modal fade" id="hashModal" tabindex="-1" aria-labelledby="hashModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" style="max-height: 90vh; height: 90vh;">
    <div class="modal-content">
      <div class="modal-header bg-light">
        <h5 class="modal-title" id="hashModalLabel">File Verification Information</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="card mb-3 bg-light">
          <div class="card-header">SHA-256 Hash</div>
          <div class="card-body">
            <code class="user-select-all fs-5">{{.FileHash}}</code>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header d-flex justify-content-between align-items-center">
            Verification Command
            <button type="button" class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyVerificationCommand()">
              <i class="bi bi-clipboard"></i> Copy
            </button>
          </div>
          <div class="card-body">
            <pre class="bg-dark text-light p-3 rounded user-select-all mb-0" style="white-space: pre-wrap; word-break: break-all;"><code id="verification-command">echo "{{.FileHash}}  {{.FileName}}" | shasum -a 256 -c --</code></pre>
          </div>
        </div>
        
        <script>
          function copyVerificationCommand() {
            const commandText = document.getElementById('verification-command').innerText;
            navigator.clipboard.writeText(commandText).then(
              () => {
                const copyBtn = document.querySelector('.copy-btn');
                const originalHTML = copyBtn.innerHTML;
                copyBtn.innerHTML = '<i class="bi bi-clipboard-check"></i> Copied!';
                setTimeout(() => {
                  copyBtn.innerHTML = originalHTML;
                }, 2000);
              },
              () => {
                alert('Failed to copy command');
              }
            );
          }
        </script>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
